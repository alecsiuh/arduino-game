# One Armed Bandit
This is a C-based game designed to run on a basic Arduino processor.

# How the Game Works
## Starting Conditions
The player begins with an initial stake of 50 coins.

At the start of the game, the player selects the number of display slots for the slot machine: 2, 3, or 4 by pressing the left button.

## Betting
The player can bet one coin per turn by pressing the right button once.
When a bet is placed, all four LEDs on the display light up, and a sound effect simulates coins falling into the slot machine's money drawer.

## Playing the Slot Machine
Pressing the right button again activates the slot machine. The LED display start to shuffle numbers from 0 to 9 untile, one by one, the final numbers appear on the LED displays and a clicking sound indicates the final combination's appearance.

## Winning
If all the LED displays show the same number, the player wins a certain amount of money, which is added to their total.

The win amount depends on the number of LED displays in use:
- 2 LED displays: Win amount = 5 coins
- 3 LED displays: Win amount = 50 coins
- 4 LED displays: Win amount = 500 coins

If the player runs out of coins, the game stops with a scrolling loss message, or if the player accumulates the maximum amount of 9999 or more coins, the game ends with a scrolling message: 'bank break.'

## Checking Coin Balance
During the game, pressing the center button shows the player's current coin balance on the LED displays.

## LED Displays and Number Generation
The LED displays show the numbers generated by the slot machine.

## Technical Attributes
The game's progress is tracked using dynamic HEAP memory, which stores various game-related data, including:
- Sequence number
- Available money
- Bet amount
- Generated number from the slot machine (based on activated LED displays)
- Win amount (0 if no win occurred).
At the end of the game, the progress is displayed in the serial monitor with appropriate formatting.

The serial monitor provides information on:
- Total game duration (in minutes and seconds)
- Total number of times the player won.

## Code Details
#### Libraries Used
The code utilizes several libraries for handling different components and functionalities:
- util/delay.h: For generating delays.
- avr/io.h: For AVR microcontroller I/O operations.
- usart.h: For USART communication.
- stdio.h and stdlib.h: Standard C libraries for input and output.
- buzzer.h, timer.h, button.h, display.h, and led.h: Custom libraries for controlling the buzzer, timer, buttons, display, and LEDs.

#### Dynamic Memory Allocation
The game maintains progress data using dynamic HEAP memory allocation through a GAME structure.
This structure stores essential game-related information and is allocated dynamically to manage game progress.

#### Timer and Interrupts
The code utilizes Timer0 and interrupts to keep track of game duration in minutes and seconds.
The *TIMER0_COMPA_vect* interrupt is used to increment the seconds and minutes as the game progresses.

#### Random Number Generation
Random numbers are generated using the rand() function seeded with a value obtained from the ADC (Analog-to-Digital Converter) to provide some randomness.

#### Display Functions
The code includes functions for displaying messages and numbers on LED displays, allowing dynamic updates during the game.

#### Game Flow
The main loop manages the game flow, including choosing the slot display, handling bets, and running the slot machine. 

The game ends when the player wins big, loses all coins, or reaches the maximum allowed coins.

Appropriate messages are displayed on the LED displays and serial monitor when the game concludes.
